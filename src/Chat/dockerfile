FROM rust:1.86

ARG APP_NAME=rockpal-chat

COPY . .

WORKDIR "/app/src/Chat"

RUN cargo build --locked --release
RUN cp ./target/release/$APP_NAME /bin/server

EXPOSE 8080

CMD ["/bin/server"]
